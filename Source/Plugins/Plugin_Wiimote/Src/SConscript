# -*- python -*-

Import('env')

name = "Plugin_Wiimote"

files = [
	"Config.cpp",
	"DataReports.cpp",
	"EmuDefinitions.cpp",
	"EmuDynamics.cpp",
	"EmuMain.cpp",
	"EmuPad.cpp",
	"EmuSubroutines.cpp",
	"Encryption.cpp",
	"main.cpp",
	"Rumble.cpp",
	"UDPWiimote.cpp"
	]

libs = [ 'inputcommon', 'common', 'SDL' ]

if env['HAVE_WX']:
	libs = [ 'inputuicommon' ] + libs
	files += [
		"ConfigBasicDlg.cpp",
		"ConfigPadDlg.cpp",
		"ConfigGamepad.cpp",
		"FillReport.cpp",
		]

if env['HAVE_WIIUSE']:
	libs += [ 'wiiuse' ]
	files += [ 'wiimote_real.cpp' ]

env.SharedLibrary(env['plugin_dir'] + name, files, LIBS = env['LIBS'] + libs)
