# -*- python -*-

Import('env')
import sys

files = [
	'AudioCommonConfig.cpp',
	'WaveFile.cpp',
	'Mixer.cpp',
	'AudioCommon.cpp',
	'NullSoundStream.cpp',
	]

if sys.platform == 'darwin':
	files += [ 'CoreAudioSoundStream.cpp' ]
else:
	if env['HAVE_ALSA']:
		files += [ 'AlsaSoundStream.cpp' ]
	if env['HAVE_AO']:
		files += [ 'AOSoundStream.cpp' ]
	if env['HAVE_OPENAL'] or sys.platform == 'win32':
		files += [ 'OpenALStream.cpp', 'aldlist.cpp' ]
	if env['HAVE_PULSEAUDIO']:
		files += [ 'PulseAudioStream.cpp' ]
	if sys.platform == 'win32':
		files += [ 'DSoundStream.cpp' ]
	if sys.platform == 'win32':
		files += [ 'XAudio2Stream.cpp' ]

env.StaticLibrary(env['local_libs'] + 'audiocommon', files)
